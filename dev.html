<!DOCTYPE html>
<html lang="en">
<head>
    <title>Converse</title>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Converse XMPP/Jabber Chat" />
    <meta name="author" content="JC Brand" />
    <meta name="keywords" content="xmpp chat webchat converse.js" />
    <link rel="manifest" href="./manifest.json">
    <link rel="shortcut icon" type="image/ico" href="images/favicon.ico"/>
    <link type="text/css" rel="stylesheet" media="screen" href="dist/website.css" />
    <link type="text/css" rel="stylesheet" media="screen" href="dist/converse.css" />
    <script src="https://cdn.conversejs.org/3rdparty/libsignal-protocol.min.js"></script>
    <script src="dist/converse.js"></script>
</head>

<body class="reset" style="background-color: var(--global-background-color)">
<div id="conversejs-bg"></div>
<script>

    converse.plugins.add('converse-debug', {
        initialize () {
            const { _converse } = this;
            window._converse = _converse;
        }
    });

    converse.initialize({
        theme: 'dracula',
        auto_away: 300,
        enable_smacks: true,
        loglevel: 'debug',
        reuse_scram_keys: true,
        prune_messages_above: 100,
        message_archiving: 'always',
        muc_respect_autojoin: true,
        muc_show_logs_before_join: true,
        notify_all_room_messages: ['discuss@conference.conversejs.org'],
        view_mode: 'fullscreen',
        websocket_url: 'wss://conversejs.org/xmpp-websocket',
        // websocket_url: 'ws://chat.example.org:5380/xmpp-websocket',
        whitelisted_plugins: ['converse-debug'],
        connection_options: { worker: '/dist/shared-connection-worker.js' }
    });
</script>
</body>
</html>
